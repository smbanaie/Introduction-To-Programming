# عبارات و عملگرها: انجام محاسبات

## چه چیزهایی یاد خواهید گرفت
- چگونه در پایتون ریاضی انجام دهیم
- چگونه مقادیر را مقایسه کنیم
- چگونه چند شرط را ترکیب کنیم
- اشتباهات رایج مبتدی‌ها

---

## عملگرها چیستند؟

عملگرها نمادهای خاصی هستند که به پایتون می‌گویند عملیات خاصی انجام دهد. آنها را مثل دکمه‌های ماشین‌حساب در نظر بگیرید.

```
5 + 3    →  دکمه + جمع می‌کند
10 - 2   →  دکمه - تفریق می‌کند
5 > 3    →  دکمه > مقایسه می‌کند
```

---

## عملگرهای حسابی: ریاضی پایه

### چهار عمل اصلی

```python
# جمع (+)
result = 5 + 3       # 8
print(f"5 + 3 = {result}")

# تفریق (-)
result = 10 - 4      # 6
print(f"10 - 4 = {result}")

# ضرب (*)
result = 6 * 7       # 42
print(f"6 * 7 = {result}")

# تقسیم (/)
result = 15 / 3      # 5.0
print(f"15 / 3 = {result}")
```

### عملگرهای ریاضی بیشتر

```python
# تقسیم صحیح (//) - اعشار را حذف می‌کند
result = 17 // 5     # 3 (نه 3.4!)
print(f"17 // 5 = {result}")

# باقیمانده (%) - باقیمانده را می‌دهد
result = 17 % 5      # 2 (17 = 3*5 + 2)
print(f"17 % 5 = {result}")

# توان (**)
result = 2 ** 3      # 8 (2*2*2)
print(f"2 ** 3 = {result}")

# جذر
result = 16 ** 0.5   # 4.0
print(f"جذر 16 = {result}")
```

### نمودار ASCII: عملیات ریاضی

```
تقسیم صحیح (//)             باقیمانده (%)
17 ÷ 5 = 3 R 2              17 ÷ 5 = 3 R 2
┌──────────┐                ┌──────────┐
│  17 // 5 │                │  17 % 5  │
│     ↓    │                │     ↓    │
│    3     │                │    2     │
│ (خارج‌قسمت)│              │ (باقیمانده)│
└──────────┘                └──────────┘
```

---

## عملگرهای مقایسه‌ای: مقایسه مقادیر

این عملگرها دو مقدار را مقایسه می‌کنند و `True` یا `False` برمی‌گردانند.

### مقایسه‌های پایه

```python
age = 25

# برابر با (==)
print(age == 25)     # True
print(age == 30)     # False

# نابرابر با (!=)
print(age != 30)     # True
print(age != 25)     # False

# بزرگتر از (>)
print(age > 20)      # True
print(age > 30)      # False

# کوچکتر از (<)
print(age < 30)      # True
print(age < 20)      # False

# بزرگتر یا مساوی (>=)
print(age >= 25)     # True
print(age >= 30)     # False

# کوچکتر یا مساوی (<=)
print(age <= 25)     # True
print(age <= 20)     # False
```

### جدول مقایسه

| عملگر | معنی | مثال | نتیجه |
|--------|------|------|-------|
| `==` | برابر با | `5 == 5` | `True` |
| `!=` | نابرابر با | `5 != 3` | `True` |
| `>` | بزرگتر از | `7 > 5` | `True` |
| `<` | کوچکتر از | `3 < 5` | `True` |
| `>=` | بزرگتر یا مساوی | `5 >= 5` | `True` |
| `<=` | کوچکتر یا مساوی | `5 <= 7` | `True` |

---

## عملگرهای منطقی: ترکیب شرایط

گاهی اوقات باید چند چیز را همزمان بررسی کنید.

### AND (هردو باید True باشند)

```python
age = 25
has_license = True

# هردو شرط باید درست باشند
if age >= 18 and has_license:
    print("می‌توانی رانندگی کنی!")

# تصویر:
# age >= 18    →  True
# has_license  →  True
#               AND
# نتیجه       →  True ✓
```

**جدول درستی AND:**
```
True  and True   → True ✓
True  and False  → False
False and True   → False
False and False  → False
```

### OR (حداقل یکی باید True باشد)

```python
day = "شنبه"

# هر شرطی می‌تواند درست باشد
if day == "شنبه" or day == "یکشنبه":
    print("تعطیل است!")

# تصویر:
# day == "شنبه"   →  True
# day == "یکشنبه" →  False
#                     OR
# نتیجه           →  True ✓
```

**جدول درستی OR:**
```
True  or True   → True ✓
True  or False  → True ✓
False or True   → True ✓
False or False  → False
```

### NOT (معکوس می‌کند)

```python
is_raining = False

if not is_raining:
    print("چتر لازم نیست")

# تصویر:
# is_raining  →  False
# not False   →  True ✓
```

---

## اولویت عملگرها: ترتیب عملیات

مثل ریاضی، پایتون وقتی چند عملیات دارد یک ترتیب را دنبال می‌کند.

### ترتیب (از بالا به پایین)

1. **پرانتز** `()`
2. **توان** `**`
3. **ضرب/تقسیم** `* / // %`
4. **جمع/تفریق** `+ -`
5. **مقایسه‌ها** `== != > < >= <=`
6. **نقیض منطقی** `not`
7. **و منطقی** `and`
8. **یا منطقی** `or`

### مثال‌ها

```python
# بدون پرانتز
result = 2 + 3 * 4      # 14 (نه 20!)
# چون: 3 * 4 = 12، بعد 2 + 12 = 14

# با پرانتز
result = (2 + 3) * 4    # 20
# چون: 2 + 3 = 5، بعد 5 * 4 = 20

# مثال پیچیده
result = 10 + 5 * 2 ** 2 - 8 / 4
# مرحله ۱: 2 ** 2 = 4
# مرحله ۲: 5 * 4 = 20
# مرحله ۳: 8 / 4 = 2.0
# مرحله ۴: 10 + 20 - 2.0 = 28.0
```

### نکته حرفه‌ای: از پرانتز استفاده کنید!

```python
# حتی اگر ترتیب را می‌دانید، برای وضوح از پرانتز استفاده کنید
# خوب:
total = (price + tax) * quantity

# کمتر واضح:
total = price + tax * quantity  # نتیجه متفاوت!
```

---

## انتساب ترکیبی: میانبرها

وقتی می‌خواهید یک متغیر را با عملیات به‌روز کنید.

```python
score = 10

# به جای: score = score + 5
score += 5      # score الان 15 است

# به جای: score = score - 3
score -= 3      # score الان 12 است

# به جای: score = score * 2
score *= 2      # score الان 24 است

# به جای: score = score / 4
score /= 4      # score الان 6.0 است
```

| روش بلند | میانبر | معنی |
|----------|--------|------|
| `x = x + 5` | `x += 5` | اضافه کردن ۵ به x |
| `x = x - 3` | `x -= 3` | کم کردن ۳ از x |
| `x = x * 2` | `x *= 2` | ضرب x در ۲ |
| `x = x / 2` | `x /= 2` | تقسیم x بر ۲ |

---

## اشتباهات رایج مبتدی‌ها

### اشتباه ۱: استفاده از = به جای ==

```python
# ❌ اشتباه (= برای انتساب است)
if age = 18:
    print("تو 18 سال داری")

# ✅ درست (== برای مقایسه است)
if age == 18:
    print("تو 18 سال داری")
```

### اشتباه ۲: مقایسه رشته با عدد

```python
# ❌ اشتباه - مقایسه متن با عدد
age = "25"  # این متن است!
if age > 18:  # خطا! نمی‌توان متن را با عدد مقایسه کرد
    print("بزرگسال")

# ✅ درست
age = 25  # این عدد است
if age > 18:
    print("بزرگسال")
```

### اشتباه ۳: سردرگمی تقسیم صحیح

```python
# ❌ اشتباه - انتظار عدد اعشاری
result = 5 / 2      # می‌دهد 2.5 (در پایتون ۳)

# تقسیم صحیح عدد کامل می‌دهد
result = 5 // 2     # می‌دهد 2
```

### اشتباه ۴: مقایسه اعداد اعشاری

```python
# ❌ اشتباه - اعداد اعشاری دقیق نیستند
price = 0.1 + 0.2
if price == 0.3:    # ممکن است False باشد!
    print("برابر")

# ✅ درست - از tolerance استفاده کنید
if abs(price - 0.3) < 0.0001:
    print("تقریباً برابر")
```

### اشتباه ۵: زنجیره‌سازی اشتباه مقایسه‌ها

```python
# ❌ اشتباه - این مثل ریاضی کار نمی‌کند
if 5 < age < 10:   # البته این در پایتون کار می‌کند!
    pass

# اما این گیج‌کننده است:
if 5 < 10 > 3:     # True (5 < 10 True است، 10 > 3 True است)
    pass
```

---

## خودتان امتحان کنید: تمرین‌ها

### تمرین ۱: مبدل دما

سلسیوس به فارنهایت: `F = (C × 9/5) + 32`

```python
celsius = float(input("دما به سلسیوس: "))
fahrenheit = (celsius * 9/5) + 32
print(f"{celsius}°C = {fahrenheit}°F")
```

### تمرین ۲: ماشین‌حساب خرید

محاسبه کل با مالیات و تخفیف.

```python
price = float(input("قیمت کالا: "))
quantity = int(input("تعداد: "))
tax_rate = 0.09  # ۹٪ مالیات

subtotal = price * quantity
tax = subtotal * tax_rate
total = subtotal + tax

print(f"\nجمع جزء: {subtotal:.2f} تومان")
print(f"مالیات ({tax_rate*100}%): {tax:.2f} تومان")
print(f"جمع کل: {total:.2f} تومان")
```

### تمرین ۳: بررسی صلاحیت رأی

بررسی اینکه آیا کسی می‌تواند رأی بدهد (۱۸+ و شهروند).

```python
age = int(input("سن خود را وارد کن: "))
is_citizen = input("آیا شهروند هستید؟ (بله/خیر): ") == "بله"

if age >= 18 and is_citizen:
    print("شما واجد شرایط رأی دادن هستید!")
else:
    if age < 18:
        print(f"باید {18 - age} سال دیگر صبر کنید.")
    if not is_citizen:
        print("باید شهروند باشید تا بتوانید رأی دهید.")
```

### تمرین ۴: رفع اشکالات

خطاهای این کد را پیدا و رفع کنید:

```python
# کد با اشکال
num1 = input("عدد اول: ")
num2 = input("عدد دوم: ")
sum = num1 + num2
average = sum / 2

if average > 50
    print("بالای میانگین")
else
    print("زیر میانگین")
```

<details>
<summary>برای دیدن پاسخ کلیک کنید</summary>

```python
# کد رفع شده
num1 = float(input("عدد اول: "))  # تبدیل به عدد
num2 = float(input("عدد دوم: "))
sum_result = num1 + num2               # 'sum' تابع داخلی است!
average = sum_result / 2

if average > 50:                      # دو نقطه گم شده
    print("بالای میانگین")
else:                                 # دو نقطه گم شده
    print("زیر میانگین")
```
</details>

---

## مرجع سریع

| نوع | عملگرها | مثال |
|-----|--------|------|
| ریاضی | `+ - * / // % **` | `5 + 3 = 8` |
| مقایسه | `== != > < >= <=` | `5 > 3 → True` |
| منطقی | `and or not` | `True and False → False` |
| انتساب | `= += -= *= /=` | `x += 5` |

---

## نکات کلیدی

1. **عملگرهای ریاضی** مثل ماشین‌حساب کار می‌کنند: `+ - * / // % **`
2. **عملگرهای مقایسه** `True` یا `False` می‌دهند: `== != > < >= <=`
3. **عملگرهای منطقی** شرایط را ترکیب می‌کنند: `and`، `or`، `not`
4. **پرانتزها** ترتیب عملیات را کنترل می‌کنند
5. **`=` انتساب می‌کند**، **`==` مقایسه می‌کند** - آنها را اشتباه نگیرید!

---

## گام بعدی

حالا می‌دانید چگونه محاسبه کنید! در ادامه یاد می‌گیریم:
- چگونه کد اجرا شده را کنترل کنیم (شرایط)
- چگونه کد را تکرار کنیم (حلقه‌ها)
- چگونه کد را سازماندهی کنیم (توابع)
